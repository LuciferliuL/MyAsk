<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script>
    //    var p1;
    //    var p = {
    //        age:18,
    //        name:'www',
    //        clone:function () {
    //
    //        var t = {};
    //            t.age = this.age;
    //            t.name = this.name;
    //            t.clone= this.clone;
    //            return t;
    //        }
    //    }
    //    p1 = p.clone();
    //    console.log(p1);
    //    console.log(p);
    //
    //    var foo = function(name){
    //        this.name = name;
    //    }
    //    //第一种prototype方法
    ////    foo.prototype.say = function(){
    ////        console.log('hao');
    ////    }
    //    //第二种  使prototype指向一个对象 用对象来存储
    //    foo.prototype ={
    //        say:function(){
    //            console.log('hao');
    //        },eat:function(){
    //            console.log('chi'+this.name);
    //        }
    //    }
    //    var p = new foo('haha');
    //    var p2 = new foo();
    //    p.eat();
    //    p.say();
    //    let a = 1;
    //    console.log(a);
    //
    //    function fn (){
    //        for(let i = 0;i < 2;i ++){
    //            console.log(i);
    //        }
    //        console.log(i);
    //    }
    //    function fn1(){
    //        for(var i = 0;i < 2;i ++){
    //            console.log(i);
    //            const a = 1;
    //        }
    //        console.log(i);
    //    }
    //    fn();
    //    fn1();
    //    var num = 1;
    //    function num(){
    //        console.log('js');
    //    }
    //    console.log(num);


    //
    //function f1() {
    //    var tmp = 1;
    //    this.x = 3;
    //    console.log(tmp);
    //    console.log(this.x)
    //}
    //var obj = new f1();
    //console.log(obj.x);//1 3 3
    //console.log(f1());//1 3


    //console.log(( Function('num1', 'num2', "return num1+num2;") )(1, 2));
    //
    ////利用HTML中 value是一个字符串
    //
    //    function extend() {
    //        if (arguments.length == 1){
    //            for(var k in arguments[0]){
    //                //只有一个 就自己传自己
    //                this[k] = arguments[0][k];
    //            }
    //        }else{
    //            for (var k in arguments[1]){
    //                //把后面的键值对传入到前面对象
    //                arguments[0][k] = arguments[1][k]
    //            }
    //        }
    //    }
    //
    //    function fo() {
    //        console.log(arguments.callee === fo);
    //    }
    //    fo();
    //    一般在实现函数递归的时候，使用callee表示函数的引用

    //    caller  就是在被调用函数中，获得调用函数的引用
    //    function f1() {
    //        f2();
    //    }
    //    f1();
    //    function f2() {
    //        console.log(f2.caller);
    //    }
    //    function f() {
    //        f2();
    //    }
    //    f();
    //
    ////    可以直接调用eval来实现字符串代码
    //    eval('var num = 123');
    //    eval('console.log(num);');
    //
    //(new Function('alert("执行");'))();
    //eval('alert("执行")');

//    var data = '[{"name":"abc","age":19},{"name":"abc","age":19}]'
//    //    json格式(严格的数据表示形式，结构)
//    //    js中使用json比较松散
//    //    1：[]  2: {}
//    //    json格式中，键名也需要双引号
//    //    将字符串变成对象  三种方法
//    var o1 = eval("(" + data + ")");//注意，括号2边加括号
//    //2 Function
//    var o2 = (new Function('return ' + data))();
//    //3 标准处理json的语法
//    //    JSON.parse()   但是格式是标准JSON格式
//    var o3 = JSON.parse(data);
//
//    function fn() {
//        var num = Math.random();
//
//        function fo() {
//            return num;
//        }
//
//        return fo;
//    }
//    var f = fn();//这是调用fn 返回了fo fo已经记录了num的值
//    var v = f();//执行fo
//    console.log(v);
//    var v1 = f();
//    console.log(v1);
//    //整体思想：拿一个函数接受需要简介访问的值，给他一个返回值。在外部函数里面，返回该函数，那么外面调用这个函数以后，就可以得到里面的函数和这个函数已经存储的值，然后再次调用这个函数就可以取出来这个值。
//
//    function ff() {
//        var num1 = 123;
//        var num2 = 456;
//        return {
//            get_num1 : function () {
//                return num1;
//            },
//            get_num2 : function () {
//                return num2;
//            } ,
//            set_num1 : function (value){
//                num1 = value;
//            },
//            set_num2 : function (value){
//                num2 = value;
//            }
//        }
//    }
//    var a = ff();//返回的是函数里面的对象
//    console.log(a.get_num1());//a.get_num1() 获取对象里面的值
//    a.set_num1(222);//修该
//    console.log(a.get_num1());


    function fn(name, age, gender) {
         var hasgender = true;
        return {
            get_name : function () {
                return name;
            },
            set_name : function (value) {
                name = value;
            },
            get_age : function () {
                return age;
            },
            get_gender : function () {
                return gender;
            },
            set_gender : function (value) {
                if (hasgender){
                    gender = value;
                    hasgender = false;
                } else{
                    throw new Error('草泥马，死人妖')
                }
            }
        }
    }

    var p = fn('zhang',19,'男');
    console.log(p.get_name());
    p.set_gender('nv');
    console.log(p.get_gender());
    p.set_gender('nan');
</script>

</body>
</html>